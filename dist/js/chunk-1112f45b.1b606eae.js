(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1112f45b"],{6273:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout-px-spacing"},[s("portal",{attrs:{to:"breadcrumb"}},[s("ul",{staticClass:"navbar-nav flex-row"},[s("li",[s("div",{staticClass:"page-header"},[s("nav",{staticClass:"breadcrumb-one",attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[s("span",[e._v("Add Question")])])])])])])])]),s("div",{staticClass:"row layout-top-spacing"},[s("div",{staticClass:"col-xl-12 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"panel-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 layout-spacing",attrs:{id:"flRegistrationForm"}},[s("div",{staticClass:"statbox panel box box-shadow"},[e._m(0),s("div",{staticClass:"panel-body"},[s("b-form",{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[s("label",[e._v("Question title "),s("span",{staticStyle:{color:"red"}},[e._v("*")])]),s("b-form-group",{staticClass:"mb-3"},[s("b-input",{class:[e.is_submit_form1?e.form.titleQ&&e.form.titleQ.length<100&&e.form.titleQ.length>15?"is-valid":"is-invalid":""],attrs:{type:"text",placeholder:"Question title "},model:{value:e.form.titleQ,callback:function(t){e.$set(e.form,"titleQ",t)},expression:"form.titleQ"}}),s("b-form-valid-feedback",[e._v("Looks good!")]),s("b-form-invalid-feedback",{class:{"d-block":e.is_submit_form1&&!e.form.titleQ}},[e._v("Please Enter a title between 15 and 100 characters")])],1),s("label",[e._v("Question details "),s("span",{staticStyle:{color:"red"}},[e._v("*")])]),s("b-form-group",{staticClass:"mb-3"},[s("b-textarea",{class:[e.is_submit_form1?e.form.contentQ&&e.form.contentQ.length<500&&e.form.contentQ.length>25?"is-valid":"is-invalid":""],attrs:{rows:"4",type:"text",placeholder:"Question details"},model:{value:e.form.contentQ,callback:function(t){e.$set(e.form,"contentQ",t)},expression:"form.contentQ"}}),s("b-form-valid-feedback",[e._v("Looks good!")]),s("b-form-invalid-feedback",{class:{"d-block":e.is_submit_form1&&!e.form.contentQ}},[e._v("Please Enter content between 25 and 500 characters")])],1),s("label",[e._v("Insert image")]),s("div",{staticClass:"mb-4"},[s("b-file",{on:{change:e.onFileChanged}})],1),s("label",[e._v("Select Category "),s("span",{staticStyle:{color:"red"}},[e._v("*")])]),s("b-select",{attrs:{value:"Default select"},model:{value:e.form.categoryQ,callback:function(t){e.$set(e.form,"categoryQ",t)},expression:"form.categoryQ"}},[s("b-select-option",{attrs:{value:"0"}},[e._v("Select Category")]),e._l(e.Questioncategories,(function(t){return s("b-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.typeC))])}))],2),s("b-form-valid-feedback",[e._v("Looks good!")]),s("b-form-invalid-feedback",{class:{"d-block":e.is_submit_form1&&!e.form.categoryQ}},[e._v("Please fill the Category")]),s("small",{staticClass:"form-text text-muted mt-3",attrs:{id:"emailHelp2"}},[s("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" Required Fields")]),s("b-button",{staticClass:"mt-4 justfiy-content-end",attrs:{variant:"primary"},on:{click:e.submit}},[e._v("Submit")])],1)],1)])])])])])])],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"panel-heading"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-10 col-md-12 col-sm-12 col-12"},[s("h4",[e._v("Add Question")])])])])}],a=s("1da1"),o=s("5530"),n=(s("96cf"),s("7db0"),s("d3b7"),s("a1c4"),s("e520"),s("2f62")),l=s("bc3a"),c=s.n(l),u={metaInfo:{title:"Add Question"},components:{},data:function(){return{tag:"",tags:[],form:{titleQ:"",contentQ:"",userprofileQ:"",userentrepriseQ:"",categoryQ:0},image:null,uentreprise:[],uprofile:[],CurrentUser:[],is_submit_form1:!1}},created:function(){for(var e in this.GetUsers(),this.GetUserprofiles(),this.GetQuestioncategories(),this.GetUserentreprises(),this.GetQuestions(),this.Users)this.Users[e].username==this.User&&(this.CurrentUser=this.Users[e]);var t=!1;for(var s in this.Userentreprises)this.Userentreprises[s].userE==this.CurrentUser.id&&(t=!0,this.uentreprise=this.Userentreprises[s],this.form.userentrepriseQ=this.uentreprise.id);if(0==t){var r=!1;for(var i in this.Userprofiles)this.Userprofiles[i].userU==this.CurrentUser.id&&(r=!0,this.uprofile=this.Userprofiles[i],this.form.userprofileQ=this.uprofile.id);0==r&&this.$router.push("/auth/userinfo")}},methods:Object(o["a"])(Object(o["a"])({onFileChanged:function(e){this.image=e.target.files[0],console.log(this.image)}},Object(n["b"])(["GetUserentreprises","GetQuestions","CreateNotification","GetQuestioncategories","CreateQuestion","GetUsers","GetUserprofiles"])),{},{submit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.Questions.find((function(t){return t.titleQ==e.form.titleQ}))){t.next=19;break}if(e.is_submit_form1=!0,!(e.form.titleQ&&e.form.titleQ.length<100&&e.form.titleQ.length>15&&e.form.contentQ&&e.form.contentQ.length<500&&e.form.contentQ.length>25&&e.form.categoryQ)){t.next=17;break}if(s=new FormData,null!=e.image&&s.append("imageQ",e.image),s.append("titleQ",e.form.titleQ),s.append("contentQ",e.form.contentQ),s.append("categoryQ",e.form.categoryQ),e.CurrentUser.is_superuser&&(s.append("accepted",!0),c.a.put("/userprofile/userprofile-update/"+e.form.userprofileQ+"/",{nbquestions:e.uprofile.nbquestions+1})),s.append("userprofileQ",e.form.userprofileQ),s.append("userentrepriseQ",e.form.userentrepriseQ),e.CreateQuestion(s),0!=e.CurrentUser.is_superuser){t.next=16;break}return t.next=15,e.CreateNotification({message:" requested a Verification on their question !",byuserprofileNo:e.form.userprofileQ,byuserentrepriseNo:e.form.userentrepriseQ,questionNo:1,foradmin:!0});case 15:e.$swal("Good Job!","Your question has been created successfuly, Please wait for the administator to accept it !","success");case 16:e.$router.push("/questions");case 17:t.next=21;break;case 19:r=e.Questions.find((function(t){return t.titleQ==e.form.titleQ})),e.$swal.fire({title:"This question already exists !",padding:"2em",html:'<a style="color:blue" href="/questionpage/'+r.id+"/"+r.slug+'/">Check it out!</a>',confirmButtonText:"No thanks"});case 21:case"end":return t.stop()}}),t)})))()}}),computed:Object(o["a"])(Object(o["a"])({},Object(n["c"])({Questions:"StateQuestions",Userentreprises:"StateUserentreprises",Questioncategories:"StateQuestioncategories",Userprofiles:"StateUserprofiles",User:"StateUser",Users:"StateUsers"})),{},{isLoggedIn:function(){return this.$store.getters.isAuthenticated}})},f=u,m=(s("bb0c"),s("2877")),d=Object(m["a"])(f,r,i,!1,null,"32eb3c52",null);t["default"]=d.exports},"84f4":function(e,t,s){},a1c4:function(e,t,s){},bb0c:function(e,t,s){"use strict";s("84f4")},e520:function(e,t,s){}}]);
//# sourceMappingURL=chunk-1112f45b.1b606eae.js.map