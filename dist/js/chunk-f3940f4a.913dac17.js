(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3940f4a"],{1756:function(e,t,s){},a1c4:function(e,t,s){},e520:function(e,t,s){},ec93:function(e,t,s){"use strict";s("1756")},edd5:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout-px-spacing"},[s("portal",{attrs:{to:"breadcrumb"}},[s("ul",{staticClass:"navbar-nav flex-row"},[s("li",[s("div",{staticClass:"page-header"},[s("nav",{staticClass:"breadcrumb-one",attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[s("span",[e._v("Update Service")])])])])])])])]),s("div",{staticClass:"row layout-top-spacing"},[s("div",{staticClass:"col-xl-12 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"panel-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 layout-spacing",attrs:{id:"flRegistrationForm"}},[s("div",{staticClass:"statbox panel box box-shadow"},[s("div",{staticClass:"panel-heading"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-10 col-md-12 col-sm-12 col-12"},[s("h4",[e._v("Update "+e._s(e.form.titleS))])])])]),s("div",{staticClass:"panel-body"},[s("b-form",{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[s("label",[e._v("Title "),s("span",{staticStyle:{color:"red"}},[e._v("*")])]),s("b-form-group",{staticClass:"mb-3"},[s("b-input",{class:[e.is_submit_form1?e.form.titleS&&e.form.titleS.length<24&&e.form.titleS.length>15?"is-valid":"is-invalid":""],attrs:{type:"text",placeholder:"Service title "},model:{value:e.form.titleS,callback:function(t){e.$set(e.form,"titleS",t)},expression:"form.titleS"}}),s("b-form-valid-feedback",[e._v("Looks good!")]),s("b-form-invalid-feedback",{class:{"d-block":e.is_submit_form1&&!e.form.titleS}},[e._v("Please enter a title between 15 and 24 characters")])],1),s("label",[e._v("Service details "),s("span",{staticStyle:{color:"red"}},[e._v("*")])]),s("b-form-group",{staticClass:"mb-3"},[s("b-textarea",{class:[e.is_submit_form1?e.form.details&&e.form.details.length<500&&e.form.details.length>25?"is-valid":"is-invalid":""],attrs:{rows:"4",type:"text",placeholder:"Service details"},model:{value:e.form.details,callback:function(t){e.$set(e.form,"details",t)},expression:"form.details"}}),s("b-form-valid-feedback",[e._v("Looks good!")]),s("b-form-invalid-feedback",{class:{"d-block":e.is_submit_form1&&!e.form.details}},[e._v("Please enter content between 25 and 500 characters")])],1),s("b-form-row",{staticClass:"mb-1"},[s("label",{staticClass:"col-6"},[e._v("Address "),s("span",{staticStyle:{color:"red"}},[e._v("*")])]),s("label",[e._v("Email "),s("span",{staticStyle:{color:"red"}},[e._v("*")])])]),s("b-form-row",[s("b-form-group",{staticClass:"col-6 mb-3"},[s("b-input",{class:[e.is_submit_form1?e.form.addressS?"is-valid":"is-invalid":""],attrs:{type:"text",placeholder:"Service Address"},model:{value:e.form.addressS,callback:function(t){e.$set(e.form,"addressS",t)},expression:"form.addressS"}}),s("b-form-valid-feedback",[e._v("Looks good!")]),s("b-form-invalid-feedback",{class:{"d-block":e.is_submit_form1&&!e.form.addressS}},[e._v("Please enter an address !")])],1),s("b-form-group",{staticClass:"mb-3 col-6"},[s("b-input",{class:[e.is_submit_form1?e.form.email&&e.email_validate(e.form.email)?"is-valid":"is-invalid":""],attrs:{type:"text",placeholder:"Email "},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),s("b-form-valid-feedback",[e._v("Looks good!")]),s("b-form-invalid-feedback",{class:{"d-block":e.is_submit_form1&&!e.form.email&&!e.email_validate(e.form.email)}},[e._v("Please enter a valid email !")])],1)],1),s("b-form-row",{staticClass:"mb-1"},[s("b-form-group",{staticClass:"col-md-6"},[s("label",[e._v("Phone number "),s("span",{staticStyle:{color:"red"}},[e._v("*")])]),s("b-input",{class:[e.is_submit_form1?e.form.contactS?"is-valid":"is-invalid":""],attrs:{type:"number"},model:{value:e.form.contactS,callback:function(t){e.$set(e.form,"contactS",t)},expression:"form.contactS"}}),s("b-form-invalid-feedback",{class:{"d-block":e.is_submit_form1&&!e.form.contactS}},[e._v("Please fill the Phone number")])],1),s("b-form-group",{staticClass:"col-md-6"},[s("label",[e._v("Select Country "),s("span",{staticStyle:{color:"red"}},[e._v("*")])]),s("country-select",{staticClass:"country-select",class:[e.is_submit_form1?e.form.country?"is-valid":"is-invalid":""],attrs:{country:e.form.country,countryName:"",topCountry:"US"},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}}),s("b-form-valid-feedback",[e._v("Looks good!")]),s("b-form-invalid-feedback",{class:{"d-block":e.is_submit_form1&&!e.form.country}},[e._v("Please fill the Country")])],1)],1),s("b-form-row",{staticClass:"mb-1"},[s("label",{staticClass:"col-6"},[e._v("Select Type "),s("span",{staticStyle:{color:"red"}},[e._v("*")])]),s("label",[e._v("Price "),s("span",{staticStyle:{color:"red"}},[e._v("*")])])]),s("b-form-row",{staticClass:"mb-1"},[s("b-form-group",{staticClass:"col-6"},[s("b-select",{class:[e.is_submit_form1?e.form.typeS?"is-valid":"is-invalid":""],attrs:{value:"Default select"},model:{value:e.form.typeS,callback:function(t){e.$set(e.form,"typeS",t)},expression:"form.typeS"}},[s("b-select-option",{attrs:{value:"0"}},[e._v("Select Type")]),e._l(e.Servicetypes,(function(t){return s("b-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.descT))])}))],2),s("b-form-valid-feedback",[e._v("Looks good!")]),s("b-form-invalid-feedback",{class:{"d-block":e.is_submit_form1&&!e.form.typeS}},[e._v("Please fill the Type")])],1),s("b-form-group",{staticClass:"col-6 mb-3"},[s("b-input",{class:[e.is_submit_form1?e.form.priceS?"is-valid":"is-invalid":""],attrs:{type:"number",placeholder:"Price"},model:{value:e.form.priceS,callback:function(t){e.$set(e.form,"priceS",t)},expression:"form.priceS"}}),s("b-form-valid-feedback",[e._v("Looks good!")]),s("b-form-invalid-feedback",{class:{"d-block":e.is_submit_form1&&!e.form.priceS}},[e._v("Please Enter an address")])],1)],1),s("label",[e._v("Insert image")]),s("div",{staticClass:"mb-4"},[s("b-file",{on:{change:e.onFileChanged}})],1),s("small",{staticClass:"form-text text-muted mt-3",attrs:{id:"emailHelp2"}},[s("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" Required Fields")]),s("b-button",{staticClass:"mt-4 justfiy-content-end",attrs:{variant:"primary"},on:{click:e.submit}},[e._v("Submit")])],1)],1)])])])])])])],1)},a=[],i=s("1da1"),o=s("5530"),l=(s("96cf"),s("ac1f"),s("00b4"),s("bc3a")),c=s.n(l),n=(s("a1c4"),s("e520"),s("2f62")),m={name:"UpdateService",props:{},data:function(){return{form:{titleS:"",addressS:"",userprofileS:"",priceS:null,country:"",contactS:0,email:"",details:"",typeS:0,promoted:""},mode:!1,image:null,uprofile:[],CurrentUser:[],is_submit_form1:!1}},created:function(){var e=this;for(var t in this.GetUsers(),this.GetUserprofiles(),this.GetServicetypes(),this.GetUserentreprises(),this.Users)this.Users[t].username==this.User&&(this.CurrentUser=this.Users[t]);c.a.get("/service/service-detail/"+this.$route.params.id+"/").then((function(t){e.form=t.data;var s=!1;for(var r in e.Userentreprises)e.Userentreprises[r].userE==e.CurrentUser.id&&(s=!0,e.$router.push("/services"),e.$swal({title:"You cannot access this page !",padding:"2em"}));if(0==s){var a=!1;for(var i in e.Userprofiles)e.Userprofiles[i].userU==e.CurrentUser.id&&(e.Userprofiles[i].id!=e.form.userprofileS&&(e.$router.push("/services"),e.$swal({title:"This is not your Service !",padding:"2em"})),a=!0);0==a&&e.$router.push("/auth/userinfo")}}))},methods:Object(o["a"])(Object(o["a"])({email_validate:function(e){var t=/^[\w.%+-]+@[\w.-]+\.[\w]{2,6}$/;return t.test(e)},onFileChanged:function(e){this.image=e.target.files[0],console.log(this.image)}},Object(n["b"])(["GetUserentreprises","GetServicetypes","GetUsers","GetUserprofiles"])),{},{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.is_submit_form1=!0,!(e.form.titleS&&e.form.titleS.length<100&&e.form.titleS.length>15&&e.form.addressS&&e.form.typeS&&e.form.country&&e.form.contactS&&e.form.priceS)){t.next=25;break}for(s in e.Userprofiles)e.Userprofiles[s].userU==e.CurrentUser.id&&(e.form.userprofileS=e.Userprofiles[s].id);return r=new FormData,null!=e.image&&r.append("imageS",e.image),r.append("titleS",e.form.titleS),r.append("addressS",e.form.addressS),r.append("contactS",e.form.contactS),r.append("country",e.form.country),r.append("priceS",e.form.priceS),r.append("email",e.form.email),r.append("details",e.form.details),r.append("typeS",e.form.typeS),e.CurrentUser.is_superuser&&r.append("accepted",!0),r.append("promoted",e.form.promoted),r.append("userprofileS",e.form.userprofileS),r.append("userprofileS",e.form.userentrepriseS),t.next=20,c.a.post("/service/service-update/"+e.$route.params.id+"/",r);case 20:if(0!=e.CurrentUser.is_superuser){t.next=24;break}return t.next=23,e.CreateNotification({message:" requested a Verification on their service !",byuserprofileNo:e.form.userprofileS,byuserentrepriseNo:e.form.userentrepriseS,serviceNo:e.form.id,foradmin:!0});case 23:e.$swal("Good Job!","Your service has been updated successfuly, Please wait for the administator to accept it !","success");case 24:e.$router.push("/services");case 25:t.next=30;break;case 27:throw t.prev=27,t.t0=t["catch"](0),"Il ya un error!";case 30:case"end":return t.stop()}}),t,null,[[0,27]])})))()}}),computed:Object(o["a"])(Object(o["a"])({},Object(n["c"])({Userentreprises:"StateUserentreprises",Servicetypes:"StateServicetypes",Userprofiles:"StateUserprofiles",User:"StateUser",Users:"StateUsers"})),{},{isLoggedIn:function(){return this.$store.getters.isAuthenticated}})},d=m,f=(s("ec93"),s("2877")),u=Object(f["a"])(d,r,a,!1,null,"ff3d466e",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-f3940f4a.913dac17.js.map