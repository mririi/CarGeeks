(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0e59410"],{"0049":function(e,t,s){},"2aba":function(e,t,s){"use strict";s("0049")},"8e3a":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout-px-spacing"},[s("portal",{attrs:{to:"breadcrumb"}},[s("ul",{staticClass:"navbar-nav flex-row"},[s("li",[s("div",{staticClass:"page-header"},[s("nav",{staticClass:"breadcrumb-one",attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[s("span",[e._v("Add Post")])])])])])])])]),s("div",{staticClass:"row layout-top-spacing"},[s("div",{staticClass:"col-xl-12 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"panel-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 layout-spacing",attrs:{id:"flRegistrationForm"}},[s("div",{staticClass:"statbox panel box box-shadow"},[e._m(0),s("div",{staticClass:"panel-body"},[s("b-form",{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[s("label",[e._v("Post details "),s("span",{staticStyle:{color:"red"}},[e._v("*")])]),s("b-form-group",{staticClass:"mb-3"},[s("b-textarea",{class:[e.is_submit_form1?e.form.detailsP&&e.form.detailsP.length<500&&e.form.detailsP.length>15?"is-valid":"is-invalid":""],attrs:{rows:"4",type:"text",placeholder:"Post details"},model:{value:e.form.detailsP,callback:function(t){e.$set(e.form,"detailsP",t)},expression:"form.detailsP"}}),s("b-form-valid-feedback",[e._v("Looks good!")]),s("b-form-invalid-feedback",{class:{"d-block":e.is_submit_form1&&!e.form.detailsP}},[e._v("Please Enter details between 15 and 500 characters")])],1),s("label",[e._v("Insert image")]),s("div",{staticClass:"mb-4"},[s("b-file",{on:{change:e.onFileChanged}})],1),s("small",{staticClass:"form-text text-muted mt-3",attrs:{id:"emailHelp2"}},[s("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" Required Fields")]),s("b-button",{staticClass:"mt-4 justfiy-content-end",attrs:{variant:"primary"},on:{click:e.submit}},[e._v("Submit")])],1)],1)])])])])])])],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"panel-heading"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-10 col-md-12 col-sm-12 col-12"},[s("h4",[e._v("Add Post")])])])])}],i=s("1da1"),o=s("5530"),n=(s("96cf"),s("a1c4"),s("e520"),s("2f62")),l=s("bc3a"),u=s.n(l),c={metaInfo:{title:"Add Post"},components:{},data:function(){return{form:{detailsP:""},image:null,uentreprise:[],uprofile:[],CurrentUser:[],CurrentUserProfile:[],CurrentUserEntreprise:[],is_submit_form1:!1,group:[]}},created:function(){var e=this;this.GetUsers(),this.GetUserprofiles(),this.GetGroups(),this.GetGroupposts(),this.GetUserentreprises(),u.a.get("/group/group-detail/"+this.$route.params.id+"/").then((function(t){for(var s in e.group=t.data,e.Users)e.Users[s].username==e.User&&(e.CurrentUser=e.Users[s]);for(var r in e.Userprofiles)e.Userprofiles[r].userU==e.CurrentUser.id&&(e.CurrentUserProfile=e.Userprofiles[r]);for(var a in e.Userentreprises)e.Userentreprises[a].userE==e.CurrentUser.id&&(e.CurrentUserEntreprise=e.Userentreprises[a])}))},methods:Object(o["a"])(Object(o["a"])({onFileChanged:function(e){this.image=e.target.files[0]}},Object(n["b"])(["CreateNotification","GetUserentreprises","GetUsers","GetUserprofiles","GetGroups","GetGroupposts","CreateGrouppost"])),{},{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.is_submit_form1=!0,!(e.form.detailsP.length<500&&e.form.detailsP.length>15)){t.next=18;break}return s=new FormData,null!=e.image&&s.append("imagePost",e.image),console.log(e.image),s.append("detailsP",e.form.detailsP),null==e.CurrentUserEntreprise.id&&s.append("userprofilePost",e.CurrentUserProfile.id),console.log(e.CurrentUserProfile.id),null==e.CurrentUserProfile.id&&s.append("userentreprisePost",e.CurrentUserEntreprise.id),console.log(e.CurrentUserEntreprise.id),s.append("groupPost",e.$route.params.id),console.log(e.$route.params.id),e.group.userprofileG!=e.CurrentUserProfile.id&&e.group.userentrepriseG!=e.CurrentUserEntreprise.id||(s.append("accepted",!0),u.a.put("/group/group-update/"+e.$route.params.id+"/",{nbposts:e.group.nbposts+1})),t.next=16,e.CreateGrouppost(s);case 16:e.$router.push("/groups"),e.group.userprofileG==e.CurrentUserProfile.id||e.group.userentrepriseG==e.CurrentUserEntreprise.id?e.$swal("Good Job!","Your Post has been created successfuly!","success"):e.$swal("Good Job!","Your Post has been created. Please wait for the admin to accept it !","success");case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()}}),computed:Object(o["a"])(Object(o["a"])({},Object(n["c"])({Userentreprises:"StateUserentreprises",Questioncategories:"StateQuestioncategories",Userprofiles:"StateUserprofiles",User:"StateUser",Users:"StateUsers"})),{},{isLoggedIn:function(){return this.$store.getters.isAuthenticated}})},p=c,d=(s("2aba"),s("2877")),f=Object(d["a"])(p,r,a,!1,null,"fa8034ec",null);t["default"]=f.exports},a1c4:function(e,t,s){},e520:function(e,t,s){}}]);
//# sourceMappingURL=chunk-e0e59410.64d7cfb4.js.map