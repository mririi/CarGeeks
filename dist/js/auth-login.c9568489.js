(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["auth-login"],{bd01:function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"form auth-boxed"},[t("div",{staticClass:"form-container outer"},[t("div",{staticClass:"form-form"},[t("div",{staticClass:"form-form-wrap"},[t("div",{staticClass:"form-container"},[t("div",{staticClass:"form-content"},[t("h1",{},[e._v("Sign In")]),t("p",{},[e._v("Log in to your account to continue.")]),t("b-form",{staticClass:"text-left",on:{submit:function(s){return s.preventDefault(),e.submit.apply(null,arguments)}}},[t("div",{staticClass:"form"},[t("b-form-invalid-feedback",{staticClass:"text-center",class:{"d-block":!e.valid&&e.form.username&&e.form.password}},[e._v("Incorrect Username or password")]),t("b-form-invalid-feedback",{staticClass:"text-center",class:{"d-block":e.is_submit_form1&&!e.form.username&&e.form.password}},[e._v("Please fill the username !")]),t("b-form-invalid-feedback",{staticClass:"text-center",class:{"d-block":e.is_submit_form1&&!e.form.password&&e.form.username}},[e._v("Please fill the password !")]),t("b-form-invalid-feedback",{staticClass:"text-center",class:{"d-block":e.is_submit_form1&&!e.form.password&&!e.form.username}},[e._v("Please fill the username and password !")]),t("div",{staticClass:"field-wrapper input",attrs:{id:"username-field"}},[t("label",{attrs:{for:"username"}},[e._v("USERNAME")]),t("svg",{staticClass:"feather feather-user",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[t("path",{attrs:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}}),t("circle",{attrs:{cx:"12",cy:"7",r:"4"}})]),t("b-input",{class:[e.is_submit_form1?e.form.username?"is-valid":"is-invalid":""],attrs:{placeholder:"e.g John_Doe"},model:{value:e.form.username,callback:function(s){e.$set(e.form,"username",s)},expression:"form.username"}})],1),t("div",{staticClass:"field-wrapper input mb-2",attrs:{id:"password-field"}},[t("div",{staticClass:"d-flex justify-content-between"},[t("label",{attrs:{for:"password"}},[e._v("PASSWORD")]),t("router-link",{staticClass:"forgot-pass-link",attrs:{to:"/api/password_reset/"}},[e._v("Forgot Password?")])],1),t("svg",{staticClass:"feather feather-lock",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[t("rect",{attrs:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}}),t("path",{attrs:{d:"M7 11V7a5 5 0 0 1 10 0v4"}})]),t("b-input",{class:[e.is_submit_form1?e.form.password?"is-valid":"is-invalid":""],attrs:{type:e.pwd_type,placeholder:"Password"},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}}),t("svg",{staticClass:"feather feather-eye",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",id:"toggle-password"},on:{click:e.set_pwd_type}},[t("path",{attrs:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}}),t("circle",{attrs:{cx:"12",cy:"12",r:"3"}})])],1),t("div",{staticClass:"d-sm-flex justify-content-between"},[t("div",{staticClass:"field-wrapper"},[t("b-button",{attrs:{type:"submit",variant:"primary",value:""}},[e._v("Log In")])],1)]),t("p",{staticClass:"signup-link"},[e._v("Not registered ? "),t("router-link",{attrs:{to:"/auth/register"}},[e._v("Create an account")])],1)],1)]),e._m(0),t("a",{staticClass:"google-signup mt-2",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.loginWithGoogle.apply(null,arguments)}}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18","aria-hidden":"true"}},[t("title",[e._v("Google")]),t("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[t("path",{attrs:{fill:"#4285F4",d:"M17.64 9.2045c0-.6381-.0573-1.2518-.1636-1.8409H9v3.4814h4.8436c-.2086 1.125-.8427 2.0782-1.7959 2.7164v2.2581h2.9087c1.7018-1.5668 2.6836-3.874 2.6836-6.615z"}}),t("path",{attrs:{fill:"#34A853",d:"M9 18c2.43 0 4.4673-.806 5.9564-2.1805l-2.9087-2.2581c-.8059.54-1.8368.859-3.0477.859-2.344 0-4.3282-1.5831-5.036-3.7104H.9574v2.3318C2.4382 15.9832 5.4818 18 9 18z"}}),t("path",{attrs:{fill:"#FBBC05",d:"M3.964 10.71c-.18-.54-.2822-1.1168-.2822-1.71s.1023-1.17.2823-1.71V4.9582H.9573A8.9965 8.9965 0 0 0 0 9c0 1.4523.3477 2.8268.9573 4.0418L3.964 10.71z"}}),t("path",{attrs:{fill:"#EA4335",d:"M9 3.5795c1.3214 0 2.5077.4541 3.4405 1.346l2.5813-2.5814C13.4632.8918 11.426 0 9 0 5.4818 0 2.4382 2.0168.9573 4.9582L3.964 7.29C4.6718 5.1627 6.6559 3.5795 9 3.5795z"}})])]),e._v(" Google ")])],1)])])])])])},a=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"division"},[t("span",[e._v("OR")])])}],i=t("1da1"),o=t("5530"),n=(t("fb6a"),t("96cf"),t("2f62")),l=(t("ce14"),{metaInfo:{title:"Login"},data:function(){return{pwd_type:"password",form:{username:"",password:""},exist:!1,valid:!0,is_submit_form1:!1}},created:function(){this.GetUsers(),this.GetUserprofiles(),this.GetUserentreprises()},computed:Object(o["a"])({},Object(n["c"])({Roles:"StateRoles",Userentreprises:"StateUserentreprises",Userprofiles:"StateUserprofiles",Users:"StateUsers"})),methods:Object(o["a"])(Object(o["a"])({},Object(n["b"])(["LogIn","Register","CreateRole","GetUserentreprises","GetRoles","GetUsers","GetUserprofiles"])),{},{set_pwd_type:function(){"password"==this.pwd_type?this.pwd_type="text":this.pwd_type="password"},submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var t,r,a,i,o,n,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.is_submit_form1=!0,!e.form.username||!e.form.password){s.next=19;break}return t=new FormData,t.append("username",e.form.username),t.append("password",e.form.password),s.prev=5,s.next=8,e.LogIn(t);case 8:for(r in e.Users)if(e.Users[r].username==e.form.username){for(a in e.CurrentUser=e.Users[r],e.Roles)e.CurrentUser.id==e.Roles[a].userRole&&(e.exist=!0);0==e.exist&&e.CurrentUser.is_superuser&&e.CreateRole({userRole:e.CurrentUser.id,admin:!0})}for(o in i=!1,e.Userprofiles)e.Userprofiles[o].userU==e.CurrentUser.id&&(i=!0);if(n=!1,0==i){for(l in e.Userentreprises)e.Userentreprises[l].userE==e.CurrentUser.id&&(e.$router.push("/auth/userentrepriseinfo"),n=!0);0==n&&e.$router.push("/auth/userinfo")}else e.$router.push("/questions"),e.valid=!0;s.next=19;break;case 15:s.prev=15,s.t0=s["catch"](5),console.log(s.t0),e.valid=!1;case 19:case"end":return s.stop()}}),s,null,[[5,15]])})))()},loginWithGoogle:function(){var e=this;this.$gAuth.signIn().then((function(s){var t={loginType:"google",google:{auth:s.getAuthResponse(),user:{name:s.getBasicProfile().getName(),email:s.getBasicProfile().getEmail(),profileImage:s.getBasicProfile().getImageUrl(),username:s.getBasicProfile().getEmail().toLowerCase().slice(0,s.getBasicProfile().getEmail().indexOf("@"))}}};e.Register({username:t.google.user.username,email:t.google.user.email,password:"ggddbxcxw54cwxc5xw4c8s848qc61sc1q9c4dsv1fdbg894nf6bfjf"}),e.$store.commit("setLoginUser",t),e.$router.push("/")}))}})}),c=l,u=t("2877"),d=Object(u["a"])(c,r,a,!1,null,null,null);s["default"]=d.exports},ce14:function(e,s,t){}}]);
//# sourceMappingURL=auth-login.c9568489.js.map